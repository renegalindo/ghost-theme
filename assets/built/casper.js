document.querySelectorAll("a").forEach(function(e){e.href&&!e.href.startsWith(window.origin)&&(e.target="_blank",e.rel="noopener noreferrer")}),function(e){e.addEventListener("DOMContentLoaded",function(){e.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),e=e.attributes.width.value/e.attributes.height.value;t.style.flex=e+" 1 0%"})})}((window,document)),window.matchMedia("(pointer: fine)").matches&&document.querySelector(".menu-icon").addEventListener("click",e=>{e.preventDefault()});const getRandom=(e,t)=>Math.floor(Math.random()*t+e);(async()=>{const t=document.getElementById("shuffler");if(t)if(window.contentApiKey){var n=new URLSearchParams(location.search).get("tag")||t.dataset.tag,o=n?"?tag="+n:"",a=t.dataset.post;let e="tag:"+(n||"-hash-newsletter");e=a?"id:-"+a+"+"+e:"",e=encodeURIComponent(e);var{posts:a}=await fetch("/ghost/api/content/posts/?limit=all&fields=url&filter="+e+"&key="+window.contentApiKey).then(e=>e.json()),a=a[getRandom(0,a.length)];t.href=a.url+o,t.classList.remove("disabled")}else console.log("Error! No content API key was supplied. Shuffle posts button will not work")})();
//# sourceMappingURL=casper.js.map